{"remainingRequest":"C:\\Users\\avini\\Avin_Dev\\iuri_fresh\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\avini\\Avin_Dev\\iuri_fresh\\src\\views\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\avini\\Avin_Dev\\iuri_fresh\\src\\views\\Home.vue","mtime":1634281165041},{"path":"C:\\Users\\avini\\Avin_Dev\\iuri_fresh\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\avini\\Avin_Dev\\iuri_fresh\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\avini\\Avin_Dev\\iuri_fresh\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\avini\\Avin_Dev\\iuri_fresh\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n// style\nimport '@/styles/home.scss';\n// ScrollMagic\nimport * as ScrollMagic from \"scrollmagic\";\n// components\nimport Intro from \"@/components/Home/Intro.vue\";\nimport Titles from \"@/components/Home/Titles.vue\";\nimport Biz from \"@/components/Home/Biz.vue\";\nimport EarlyDays from \"@/components/Home/EarlyDays.vue\";\nimport SuperMario from \"@/components/Home/SuperMario.vue\";\nimport Ghibli from \"@/components/Home/Ghibli.vue\";\nimport Wrapper from \"@/components/Home/Wrapper.vue\";\nimport Thanks from \"@/components/Home/Thanks.vue\";\n// loop animations (depend on each scene!!!)\n// @TODO improve\nimport BizBiz from \"@/js/abiz\";\nimport BizAstro from \"@/js/astro\";\nimport BizCoffee from \"@/js/coffee\";\nimport BizET from \"@/js/et\";\nimport BizDino from \"@/js/dino\";\nimport BizFilomena from \"@/js/filomena\";\nimport BizOcto from \"@/js/octo\";\nimport BizZen from \"@/js/zen\";\nimport BizShapes from \"@/js/shapes\";\nimport Potion from \"@/js/potion\";\nimport Pepe from \"@/js/pepe\";\nimport Mario from \"@/js/mario\";\nimport Castle from \"@/js/ghibli\";\n\nexport default {\n    name: 'home',\n    props: {\n        viewport: Object,\n    },\n    data() {\n        return {\n            intro: new TimelineMax(),\n            scroller: new ScrollMagic.Controller(),\n            scenes: [],\n            timeLines: [],\n            tweeners: [],\n        }\n    },\n    created() {\n        // before leaving the page, in case of refresh\n        window.addEventListener(\"beforeunload\", () => window.scroll(0, 0));\n    },\n    mounted() {\n\n        /**\n         * @TODO code split animations\n         *       optimize code\n         *       better Mario commands\n         */\n\n        // 01. play Intro\n        this.playIntro();\n        // 02. setup time lines and scenes\n        this.setupScenes();\n        // 03. build loop animations for each character\n        this.buildLoops();\n        // 04. Hook loops to ScrollMagic Scenes\n        this.hookLoops();\n        // 05. Animate every scene on scroll\n        this.sceneCurriculumVitae();\n        // biz(2011,2019)\n        this.sceneBizTitle();\n        this.sceneBizZen();\n        this.sceneBizEverybody();\n        this.sceneBizEnding();\n        // EarlyDays(2008,2011)\n        this.sceneEarlyDays();\n        this.sceneOcean();\n        this.sceneFloatingHead();\n        this.sceneSunset();\n        // ${Art} ${Philosophy} ${VideoGames}\n        this.sceneArtPhiGames();\n        this.sceneMario();\n        this.sceneGhibli();\n        // </wrapper>\n        this.sceneWrapper();\n\n    },\n    beforeDestroy() {\n\n        // stop loop animations\n        BizBiz.stop();\n        BizAstro.stop();\n        BizCoffee.stop();\n        BizDino.stop();\n        BizET.stop();\n        BizFilomena.stop();\n        BizOcto.stop();\n        BizShapes.stop();\n        BizZen.stop();\n        Castle.stop();\n        Pepe.stop();\n        Potion.stop();\n        Mario.stop();\n        // kill time lines\n        this.timeLines.map(tl => tl.kill());\n        // destroy ScrollMagic controller\n        this.scroller.destroy();\n\n    },\n    methods: {\n        setupScenes() {\n            /**\n             * @desc\n             * Where the magic happens\n             *\n             * add tweeners to the scenes,\n             * then to the ScrollMagic controller,\n             * and then the tweeners will tween the time lines.\n             *\n             * This way I can synchronize scenes to the HTML content\n             * and keep the momentum effect on all browsers\n             */\n            const scenesElements = document.querySelectorAll(\".scene\");\n            for (let [i, scenesElement] of Array.from(scenesElements).entries()) {\n                // tweeners, to animate the time lines' progress, to add momentum\n                this.tweeners[i] = new TimelineMax();\n                // time lines\n                this.timeLines[i] = new TimelineMax({paused: true});\n                // create scenes on ScrollMagic\n                this.scenes[i] = new ScrollMagic.Scene({\n                    // trigger on the scene element\n                    triggerElement: scenesElement,\n                    // start half screen before\n                    offset: -this.viewport.h / 2,\n                    // lasts for the scene element height\n                    duration: scenesElement.offsetHeight\n                })\n                    .setTween(this.tweeners[i])\n                    .addTo(this.scroller)\n                    .reverse(true)\n                    .setClassToggle(scenesElement, \"active\");\n                // animate the progress in the time lines\n                this.tweeners[i]\n                    .to(scenesElement, 1, {autoAlpha: 1}) // fake, just to have some progress\n                    .eventCallback('onUpdate', event => {\n                        TweenLite.to(this.timeLines[i], .5, {\n                            progress: this.tweeners[i].progress(),\n                            ease: Power0.easeNone\n                        });\n                    });\n            }\n        },\n        playIntro() {\n            /**\n             * @desc\n             * intro scene\n             */\n            this.intro\n                .addLabel('enter', 1)\n                .from('#intro .title', 2, {\n                    autoAlpha: 0,\n                    rotationX: 90,\n                    transformOrigin: '50% 50% -100px',\n                    ease: Power3.easeOut,\n                }, 'enter')\n                .from('#intro .std', 2, {\n                    autoAlpha: 0,\n                    x: -32,\n                    ease: Power3.easeOut,\n                }, 'enter+=1.5');\n        },\n        hookLoops() {\n            /**\n             * @desc\n             * play and stop loop animations\n             * based on the scenes been played\n             */\n            this.scenes[0]\n                .on('enter', (e) => {\n                    if (e.scrollDirection === 'FORWARD') {\n                    }\n                    if (e.scrollDirection === 'REVERSE') {\n                        BizBiz.stop();\n                        BizShapes.stop();\n                    }\n                });\n            this.scenes[1]\n                .on('enter', (e) => {\n                    if (e.scrollDirection === 'FORWARD') {\n                        BizBiz.play();\n                        BizShapes.play();\n                    }\n                    if (e.scrollDirection === 'REVERSE') {\n                        BizZen.stop();\n                    }\n                });\n            this.scenes[2]\n                .on('enter', (e) => {\n                    if (e.scrollDirection === 'FORWARD') {\n                        BizZen.play();\n                    }\n                    if (e.scrollDirection === 'REVERSE') {\n                        BizBiz.play();\n                        BizShapes.play();\n\n                        BizFilomena.stop();\n                        BizDino.stop();\n                        BizET.stop();\n                        BizOcto.stop();\n                        BizAstro.stop();\n                        BizCoffee.stop();\n                    }\n                });\n            this.scenes[3]\n                .on('enter', (e) => {\n                    if (e.scrollDirection === 'FORWARD') {\n                        BizBiz.stop();\n                        BizShapes.stop();\n\n                        BizFilomena.play();\n                        BizDino.play();\n                        BizET.play();\n                        BizOcto.play();\n                        BizAstro.play();\n                        BizCoffee.play();\n                    }\n                    if (e.scrollDirection === 'REVERSE') {\n                        BizZen.play();\n                    }\n                });\n            this.scenes[4]\n                .on('enter', (e) => {\n                    if (e.scrollDirection === 'FORWARD') {\n                        BizZen.stop();\n                    }\n                    if (e.scrollDirection === 'REVERSE') {\n                        BizFilomena.play();\n                        BizDino.play();\n                        BizET.play();\n                        BizOcto.play();\n                    }\n                });\n            this.scenes[5]\n                .on('enter', (e) => {\n                    if (e.scrollDirection === 'FORWARD') {\n                        BizFilomena.stop();\n                        BizDino.stop();\n                        BizET.stop();\n                        BizOcto.stop();\n                    }\n                    if (e.scrollDirection === 'REVERSE') {\n                        BizAstro.play();\n                        BizCoffee.play();\n\n                        Pepe.stop();\n                    }\n                });\n            this.scenes[6]\n                .on('enter', (e) => {\n                    if (e.scrollDirection === 'FORWARD') {\n                        BizAstro.stop();\n                        BizCoffee.stop();\n\n                        Pepe.play();\n                    }\n                    if (e.scrollDirection === 'REVERSE') {\n                    }\n                });\n            // 7\n            // 8\n            this.scenes[9]\n                .on('enter', (e) => {\n                    if (e.scrollDirection === 'FORWARD') {\n                    }\n                    if (e.scrollDirection === 'REVERSE') {\n                        Pepe.play();\n                        // release mario body lock and remove bg\n                        document.body.classList.remove('-mario-lock', '-mario-bg');\n                    }\n                });\n            this.scenes[10] /** @Mario **/\n                .on('enter', (e) => {\n                    if (e.scrollDirection === 'FORWARD') {\n                        Pepe.stop();\n                        // mario bg is added inside mario.js\n                    }\n                    if (e.scrollDirection === 'REVERSE') {\n                        // add bg just in case\n                        document.body.classList.add('-mario-bg');\n                    }\n                })\n                .on('leave', (e) => {\n                    if (e.scrollDirection === 'FORWARD') {\n                    }\n                    if (e.scrollDirection === 'REVERSE') {\n                        Castle.stop();\n                    }\n                });\n            this.scenes[11]\n                .on('enter', (e) => {\n                    if (e.scrollDirection === 'FORWARD') {\n                        Castle.play();\n                        // release mario body lock\n                        document.body.classList.remove('-mario-lock');\n                    }\n                    if (e.scrollDirection === 'REVERSE') {\n                    }\n\n                    // add bg just in case in both directions\n                    document.body.classList.add('-mario-bg');\n                });\n            this.scenes[12]\n                .on('enter', (e) => {\n                    // add bg just in case in both directions\n                    document.body.classList.add('-mario-bg');\n                });\n            this.scenes[13]\n                .on('enter', (e) => {\n                    // add bg just in case in both directions\n                    document.body.classList.add('-mario-bg');\n                });\n            this.scenes[14]\n                .on('enter', (e) => {\n                    // add bg just in case in both directions\n                    document.body.classList.add('-mario-bg');\n                });\n            this.scenes[15]\n                .on('enter', (e) => {\n                    if (e.scrollDirection === 'FORWARD') {\n                        // remove bg\n                        document.body.classList.remove('-mario-bg');\n                    }\n                    if (e.scrollDirection === 'REVERSE') {\n                        Castle.play();\n\n                        Potion.stop();\n                    }\n                })\n                .on('leave', (e) => {\n                    if (e.scrollDirection === 'FORWARD') {\n                    }\n                    if (e.scrollDirection === 'REVERSE') {\n                        // add bg\n                        document.body.classList.add('-mario-bg');\n                    }\n                });\n            ;\n            this.scenes[16]\n                .on('enter', (e) => {\n                    if (e.scrollDirection === 'FORWARD') {\n                        Castle.stop();\n\n                        Potion.play();\n                    }\n                    if (e.scrollDirection === 'REVERSE') {\n                    }\n                });\n        },\n        buildLoops() {\n            /**\n             * @desc\n             * mount loop animations\n             */\n            BizBiz.build();\n            BizAstro.build();\n            BizCoffee.build();\n            BizDino.build();\n            Castle.build();\n            Potion.build();\n            BizShapes.build();\n            if (this.viewport.is568) {\n                Castle.build568();\n            } else {\n                Castle.build();\n            }\n            if (this.viewport.is568) {\n                Pepe.build568();\n            } else if (this.viewport.is1024) {\n                Pepe.build1024();\n            } else {\n                Pepe.build();\n            }\n            if (!this.viewport.is1024) {\n                BizFilomena.build();\n                BizOcto.build();\n            }\n            if (!this.viewport.is768) BizET.build();\n            if (!this.viewport.is568) BizZen.build();\n        },\n        sceneCurriculumVitae(){\n            /**\n             * @desc\n             * Scrolling animations time lines\n             */\n            // CurriculumVitae()\n            this.timeLines[0]\n                .set('#curriculum .title-container', {autoAlpha: 1}) // show animations\n                .addLabel('start', 0)\n                .from('#curriculum .title', 2, {\n                    yPercent: -50,\n                    autoAlpha: 0,\n                    rotationX: 90,\n                    transformOrigin: '50% 50% -100px',\n                    ease: Power3.easeOut,\n                }, 'start')\n                .from('#curriculum .std', 2, {\n                    yPercent: 50,\n                    autoAlpha: 0,\n                    rotationX: -90,\n                    transformOrigin: '50% 50% -100px',\n                    ease: Power3.easeOut,\n                }, 'start')\n                .to('#curriculum .title, #curriculum .std', 2, {\n                    autoAlpha: 0,\n                    yPercent: -100\n                });\n        },\n        sceneBizTitle(){\n            // biz()\n            this.timeLines[1]\n            // next scene characters\n                .set('#filomena', {\n                    autoAlpha: 0,\n                    scale: 0,\n                    xPercent: 600,\n                    yPercent: 100,\n                })\n                .set('#dino', {\n                    scale: 0,\n                    xPercent: 400,\n                    yPercent: 100,\n                })\n                .set('#astro, #coffee, #et, #octo', {\n                    autoAlpha: 0,\n                    scale: 0,\n                    xPercent: 400,\n                    yPercent: 100,\n                })\n                // this scene\n                .set('#bizTitle .title-container, #biz1 .container', {autoAlpha: 1})\n                .addLabel('start', 0)\n                .from('#bizTitle .title', 6, {\n                    yPercent: -50,\n                    autoAlpha: 0,\n                    rotationX: 90,\n                    transformOrigin: '50% 50% -100px',\n                    ease: Power3.easeOut,\n                }, 'start')\n                .to('#bizTitle .title', 6, {\n                    autoAlpha: 0,\n                    yPercent: -100,\n                })\n                .staggerFrom('#smart, #open', 6, {\n                    autoAlpha: 0,\n                    scale: 0,\n                    ease: Power3.easeOut,\n                }, .2, 'start+=2')\n                .from('#abiz', 6, {\n                    scale: 0,\n                }, 'start+=2');\n        },\n        sceneBizZen(){\n            // Biz Commerce 1\n            this.timeLines[2]\n                .addLabel('start', 0)\n                .from('#zen', 4, {\n                    xPercent: 70,\n                    ease: Power3.easeOut,\n                }, 'start')\n                .to('#abiz', 4, {\n                    autoAlpha: 0,\n                    xPercent: -100,\n                    ease: Power3.easeIn,\n                }, 'start')\n                .staggerTo('#smart, #open', 4, {\n                    autoAlpha: 0,\n                    scale: 0,\n                    ease: Power3.easeOut,\n                }, .2, 'start');\n        },\n        sceneBizEverybody(){\n            // Biz Commerce 2\n            this.timeLines[3]\n                .addLabel('start', 0)\n                .to('#zen', 4, {\n                    yPercent: 130,\n                    ease: Power3.easeIn,\n                }, 'start')\n                .staggerTo('#dino, #astro, #coffee, #et, #filomena, #octo', 5, {\n                    autoAlpha: 1,\n                    scale: 1,\n                    xPercent: 0,\n                    yPercent: 0,\n                    ease: Power3.easeOut\n                }, .2, 'start');\n        },\n        sceneBizEnding(){\n            // Biz Commerce 3\n            this.timeLines[4]\n                .addLabel('start', 0)\n                .to('#dino', 6, {\n                    yPercent: 200,\n                    scale: 1.5,\n                    ease: Power3.easeIn,\n                }, 'start')\n                .to('#et', 6, {\n                    xPercent: -250,\n                    yPercent: -100,\n                    autoAlpha: 0,\n                    ease: Power3.easeIn,\n                }, 'start')\n                .to('#filomena', 6, {\n                    xPercent: -300,\n                    yPercent: 300,\n                    autoAlpha: 0,\n                    ease: Power3.easeIn,\n                }, 'start')\n                .to('#octo', 6, {\n                    xPercent: -650,\n                    yPercent: 400,\n                    autoAlpha: 0,\n                    ease: Power3.easeIn,\n                }, 'start')\n                .to('#astro', 12, {\n                    bottom: '-10vh',\n                    right: '-10vw',\n                    scale: 4,\n                    ease: Power3.easeInOut,\n                }, 'start')\n                .to('#coffee', 12, {\n                    top: '8rem',\n                    left: 0,\n                    scale: 4,\n                    ease: Power3.easeInOut,\n                }, 'start');\n        },\n        sceneEarlyDays(){\n            // Clouds parallax\n            let cloudsTimeline = new TimelineMax({paused: true}),\n                cloudsTweener = new TimelineMax();\n            cloudsTweener\n                .to('.cloud-1', 20, {rotation: 0})\n                .eventCallback('onUpdate', () => {\n                    TweenLite.to(cloudsTimeline, 4, {\n                        progress: cloudsTweener.progress(),\n                        ease: Power3.easeOut\n                    });\n                });\n\n            cloudsTimeline\n                .addLabel('start', 0)\n                .fromTo('.cloud-1', 10, {\n                    yPercent: 50,\n                    xPercent: 20,\n                }, {\n                    yPercent: -85,\n                    xPercent: -20,\n                }, 'action')\n                .fromTo('.cloud-2', 10, {\n                    yPercent: 40,\n                    xPercent: -10,\n                }, {\n                    yPercent: -40,\n                    xPercent: 85,\n                }, 'action')\n                .fromTo('.cloud-3', 10, {\n                    yPercent: 70,\n                    xPercent: 40,\n                }, {\n                    yPercent: -85,\n                    xPercent: -40,\n                }, 'action');\n\n            new ScrollMagic.Scene({\n                triggerElement: '#earlyTitle',\n                offset: -this.viewport.h / 2,\n                duration: this.viewport.h * 3.5\n            })\n                .setTween(cloudsTweener)\n                .addTo(this.scroller);\n\n            // EarlyDays()\n            this.timeLines[5]\n                .set('.pepe-scenery', {autoAlpha: 0})\n                .set('#biz1 .container', {autoAlpha: 1})\n                .addLabel('start', 0)\n                .to('#astro', 4, {\n                    yPercent: 600,\n                    xPercent: 200,\n                    ease: Power2.easeIn,\n                }, 'start')\n                .to('#coffee', 4, {\n                    yPercent: -600,\n                    xPercent: -200,\n                    ease: Power2.easeIn,\n                }, 'start')\n                .to('#earlyTitle .title-container', 2, {autoAlpha: 1}, 'start')\n                .from('#earlyTitle .title', 4, {\n                    yPercent: -50,\n                    autoAlpha: 0,\n                    rotationX: 90,\n                    transformOrigin: '50% 50% -100px',\n                    ease: Power3.easeOut,\n                }, 'start')\n                .from('#earlyTitle .std', 4, {\n                    yPercent: 50,\n                    autoAlpha: 0,\n                    rotationX: -90,\n                    transformOrigin: '50% 50% 100px',\n                    ease: Power3.easeOut,\n                }, 'start')\n                .to('#earlyTitle .title, #earlyTitle .std', 4, {\n                    autoAlpha: 0,\n                    yPercent: -100,\n                });\n        },\n        sceneOcean(){\n            // Pepe parallax\n            let pepeTimeline = new TimelineMax({paused: true}),\n                pepeTweener = new TimelineMax(),\n                pepeLength = window.innerWidth + document.querySelector('.pepe').offsetWidth + 16;\n\n            pepeTweener\n                .to('.pepe', 20, {rotation: 0})\n                .eventCallback('onUpdate', () => {\n                    TweenLite.to(pepeTimeline, 4, {\n                        progress: pepeTweener.progress(),\n                        ease: Power3.easeOut\n                    });\n                });\n\n            pepeTimeline\n                .addLabel('start')\n                .to('.pepe', 10, {\n                    x: `-${pepeLength}px`,\n                    scale: .5\n                }, 'start');\n\n            new ScrollMagic.Scene({\n                triggerElement: '#early-days2',\n                offset: -this.viewport.h / 2,\n                duration: this.viewport.h * 4\n            })\n                .setTween(pepeTweener)\n                .addTo(this.scroller);\n\n            // foothold on arts\n            this.timeLines[6]\n                .set('#biz1 .container', {autoAlpha: 0})\n                .to('.pepe-scenery', 8, {autoAlpha: 1});\n        },\n        sceneFloatingHead(){\n            // first company\n            this.timeLines[7]\n                .addLabel('start', 0);\n        },\n        sceneSunset(){\n            // porta, kibe etc.\n            this.timeLines[8]\n                .set('#Mario .container', {autoAlpha: 0})\n                .to('.pepe-scenery', 8, {autoAlpha: 0});\n        },\n        sceneArtPhiGames(){\n            this.timeLines[9]\n                .set('#Mario .container', {autoAlpha: 0})\n                .addLabel('start', 1)\n                .to('#ArtPhiGamesTitle .title-container', 1, {autoAlpha: 1})\n                .staggerFrom('#ArtPhiGamesTitle .title .line', 4, {\n                    yPercent: -50,\n                    autoAlpha: 0,\n                    rotationX: 90,\n                    transformOrigin: '50% 50% -100px',\n                    ease: Power3.easeOut,\n                    stagger: .5\n                })\n                .from('#ArtPhiGamesTitle .std', 4, {\n                    yPercent: 50,\n                    autoAlpha: 0,\n                    rotationX: -90,\n                    transformOrigin: '50% 50% 100px',\n                    ease: Power3.easeOut,\n                }, '-=1')\n                .to('#ArtPhiGamesTitle .title, #ArtPhiGamesTitle .std', 3, {\n                    yPercent: -100,\n                    autoAlpha: 0,\n                })\n                .set('#earlyTitle .title-container', {autoAlpha: 1});\n        },\n        sceneMario(){\n            // Mario\n            // using the tweener here\n            // because I need to be precise about time, and the momentum would ruin it\n            this.tweeners[10]\n                .to('#earlyTitle .title-container', .5, {autoAlpha: 0}) // fix reverse scroll and help time the mario trigger\n                .to('#Mario .container', 1, {\n                    autoAlpha: 1,\n                    zIndex: 4,\n                    onComplete: () => Mario.action(),\n                });\n            this.timeLines[10].set('.mario', {yPercent: 200, autoAlpha: 0});\n        },\n        sceneGhibli(){\n            // Ghibli Grass parallax\n            let grassTimeline = new TimelineMax({paused: true}),\n                grassTweener = new TimelineMax();\n\n            grassTweener\n                .to('.pepe', 20, {rotation: 0})\n                .eventCallback('onUpdate', () => {\n                    TweenLite.to(grassTimeline, 2, {\n                        progress: grassTweener.progress(),\n                        ease: Power3.easeOut\n                    });\n                });\n\n            grassTimeline\n                .addLabel('start', 0)\n                .to('#Ghibli .grass1', 20, {\n                    yPercent: 10,\n                    xPercent: -100,\n                    ease: Power1.easeIn,\n                }, 'start')\n                .to('#Ghibli .grass2', 20, {\n                    yPercent: 10,\n                    xPercent: 100,\n                    ease: Power1.easeIn,\n                }, 'start')\n                .addLabel('start');\n\n            new ScrollMagic.Scene({\n                triggerElement: '#Ghibli',\n                offset: -this.viewport.h / 2,\n                duration: this.viewport.h * 4\n            })\n                .setTween(grassTweener)\n                .addTo(this.scroller);\n\n            // Ghibli Clouds parallax\n            let gCloudsTimeline = new TimelineMax({paused: true}),\n                gCloudsTweener = new TimelineMax();\n\n            gCloudsTweener\n                .to('.pepe', 20, {rotation: 0})\n                .eventCallback('onUpdate', () => {\n                    TweenLite.to(gCloudsTimeline, 6, {\n                        progress: gCloudsTweener.progress(),\n                        ease: Power3.easeOut\n                    });\n                });\n\n            gCloudsTimeline\n                .addLabel('start', 0)\n                .set('#Ghibli .sky .c1, #Ghibli .sky .c2', {yPercent: 50})\n                .to('#Ghibli .sky .c1', 20, {\n                    yPercent: 10,\n                    xPercent: -50,\n                    scale: 1.5,\n                    ease: Power1.easeIn,\n                }, 'start')\n                .to('#Ghibli .sky .c2', 20, {\n                    yPercent: 0,\n                    // xPercent: 50,\n                    scale: 1.5,\n                    ease: Power1.easeIn,\n                }, 'start');\n\n            new ScrollMagic.Scene({\n                triggerElement: '#Ghibli',\n                offset: -this.viewport.h / 2,\n                duration: this.viewport.h * 4\n            })\n                .setTween(gCloudsTweener)\n                .addTo(this.scroller);\n\n            // Howl's Moving Castle parallax\n            let castleTimeline = new TimelineMax({paused: true}),\n                castleTweener = new TimelineMax(),\n                castleLength = '-120vw';\n\n            if (this.viewport.is568) castleLength = '-' + (window.innerWidth + document.querySelector('.castle-container').offsetWidth + 16) + 'px';\n\n            castleTweener\n                .to('.pepe', 20, {rotation: 0})\n                .eventCallback('onUpdate', () => {\n                    TweenLite.to(castleTimeline, 3, {\n                        progress: castleTweener.progress(),\n                        ease: Power3.easeOut\n                    });\n                });\n\n            castleTimeline\n                .to('.castle-container', 10, {\n                    x: castleLength,\n                    y: '-70vh',\n                    scale: .5,\n                });\n\n            new ScrollMagic.Scene({\n                triggerElement: '#Ghibli',\n                duration: this.viewport.h * 5\n            })\n                .setTween(castleTweener)\n                .addTo(this.scroller);\n\n            // Ghibli 1\n            this.timeLines[11]\n                .addLabel('start', 0)\n                .to('#Mario .container', 4, {autoAlpha: 0}, 'start')\n                .to('#Ghibli .container', 4, {autoAlpha: 1}, 'start');\n\n            // Ghibli 2 (gap)\n            this.timeLines[12]\n                .addLabel('start', 0);\n\n            // Ghibli 3 (gap)\n            this.timeLines[13]\n                .addLabel('start', 0);\n\n            // Ghibli 4 (gap)\n            this.timeLines[14]\n                .addLabel('start', 0);\n        },\n        sceneWrapper(){\n            this.timeLines[15]\n                .addLabel('start', 0)\n                .to('#Ghibli .container', 2, {autoAlpha: 0}, 'start')\n                .from('#wrapperTitle .static-container', 2, {autoAlpha: 1});\n        },\n    },\n    components: {\n        Intro,\n        Titles,\n        Biz,\n        EarlyDays,\n        SuperMario,\n        Ghibli,\n        Wrapper,\n        Thanks,\n    }\n};\n",{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div id=\"home\" class=\"wrapper\">\r\n\r\n        <!--intro-->\r\n        <Intro />\r\n\r\n        <div class=\"gap\"></div>\r\n\r\n        <!--Title: CurriculumVitae()-->\r\n        <Titles :viewport=\"viewport\" scene=\"curriculum\">\r\n            <h1 class=\"title\" v-if=\"viewport.is768\">\r\n                Curriculum<br>\r\n                .vitae(<span class=\"params\">'/.*$/g'</span>)\r\n            </h1>\r\n            <h1 class=\"title\" v-else>\r\n                CurriculumVitae(<span class=\"params\">'/.*$/g'</span>)\r\n            </h1>\r\n            <div class=\"std\">\r\n                <p class=\"-gray\">&lt;A life+work showcase&gt;</p>\r\n            </div>\r\n        </Titles>\r\n\r\n        <!--biz commerce scenes-->\r\n        <Biz :viewport=\"viewport\" />\r\n        <div class=\"gap\"></div>\r\n\r\n        <!--early days scenes-->\r\n        <EarlyDays :viewport=\"viewport\" />\r\n        <div class=\"gap\"></div>\r\n\r\n        <!--Title: Art Phi Games-->\r\n        <Titles :viewport=\"viewport\" scene=\"ArtPhiGamesTitle\">\r\n            <h1 class=\"title\">\r\n                <span class=\"line\"><span class=\"params\">`${</span>Art<span class=\"params\">}</span></span>\r\n                <span class=\"line\"><span class=\"params\">&nbsp;${</span>Philosophy<span class=\"params\">}</span></span>\r\n                <span class=\"line\"><span class=\"params\">&nbsp;${</span>VideoGames<span class=\"params\">}`</span></span>\r\n            </h1>\r\n            <div class=\"std\">\r\n                <p class=\"-gray\">background.bmp</p>\r\n            </div>\r\n        </Titles>\r\n\r\n        <!--mario-->\r\n        <SuperMario />\r\n        <div class=\"gap\"></div>\r\n\r\n        <!--ghibli-->\r\n        <Ghibli />\r\n\r\n        <!--wrapper-->\r\n        <Wrapper />\r\n\r\n        <!--thanks-->\r\n        <Thanks />\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    // style\r\n    import '@/styles/home.scss';\r\n    // ScrollMagic\r\n    import * as ScrollMagic from \"scrollmagic\";\r\n    // components\r\n    import Intro from \"@/components/Home/Intro.vue\";\r\n    import Titles from \"@/components/Home/Titles.vue\";\r\n    import Biz from \"@/components/Home/Biz.vue\";\r\n    import EarlyDays from \"@/components/Home/EarlyDays.vue\";\r\n    import SuperMario from \"@/components/Home/SuperMario.vue\";\r\n    import Ghibli from \"@/components/Home/Ghibli.vue\";\r\n    import Wrapper from \"@/components/Home/Wrapper.vue\";\r\n    import Thanks from \"@/components/Home/Thanks.vue\";\r\n    // loop animations (depend on each scene!!!)\r\n    // @TODO improve\r\n    import BizBiz from \"@/js/abiz\";\r\n    import BizAstro from \"@/js/astro\";\r\n    import BizCoffee from \"@/js/coffee\";\r\n    import BizET from \"@/js/et\";\r\n    import BizDino from \"@/js/dino\";\r\n    import BizFilomena from \"@/js/filomena\";\r\n    import BizOcto from \"@/js/octo\";\r\n    import BizZen from \"@/js/zen\";\r\n    import BizShapes from \"@/js/shapes\";\r\n    import Potion from \"@/js/potion\";\r\n    import Pepe from \"@/js/pepe\";\r\n    import Mario from \"@/js/mario\";\r\n    import Castle from \"@/js/ghibli\";\r\n\r\n    export default {\r\n        name: 'home',\r\n        props: {\r\n            viewport: Object,\r\n        },\r\n        data() {\r\n            return {\r\n                intro: new TimelineMax(),\r\n                scroller: new ScrollMagic.Controller(),\r\n                scenes: [],\r\n                timeLines: [],\r\n                tweeners: [],\r\n            }\r\n        },\r\n        created() {\r\n            // before leaving the page, in case of refresh\r\n            window.addEventListener(\"beforeunload\", () => window.scroll(0, 0));\r\n        },\r\n        mounted() {\r\n\r\n            /**\r\n             * @TODO code split animations\r\n             *       optimize code\r\n             *       better Mario commands\r\n             */\r\n\r\n            // 01. play Intro\r\n            this.playIntro();\r\n            // 02. setup time lines and scenes\r\n            this.setupScenes();\r\n            // 03. build loop animations for each character\r\n            this.buildLoops();\r\n            // 04. Hook loops to ScrollMagic Scenes\r\n            this.hookLoops();\r\n            // 05. Animate every scene on scroll\r\n            this.sceneCurriculumVitae();\r\n            // biz(2011,2019)\r\n            this.sceneBizTitle();\r\n            this.sceneBizZen();\r\n            this.sceneBizEverybody();\r\n            this.sceneBizEnding();\r\n            // EarlyDays(2008,2011)\r\n            this.sceneEarlyDays();\r\n            this.sceneOcean();\r\n            this.sceneFloatingHead();\r\n            this.sceneSunset();\r\n            // ${Art} ${Philosophy} ${VideoGames}\r\n            this.sceneArtPhiGames();\r\n            this.sceneMario();\r\n            this.sceneGhibli();\r\n            // </wrapper>\r\n            this.sceneWrapper();\r\n\r\n        },\r\n        beforeDestroy() {\r\n\r\n            // stop loop animations\r\n            BizBiz.stop();\r\n            BizAstro.stop();\r\n            BizCoffee.stop();\r\n            BizDino.stop();\r\n            BizET.stop();\r\n            BizFilomena.stop();\r\n            BizOcto.stop();\r\n            BizShapes.stop();\r\n            BizZen.stop();\r\n            Castle.stop();\r\n            Pepe.stop();\r\n            Potion.stop();\r\n            Mario.stop();\r\n            // kill time lines\r\n            this.timeLines.map(tl => tl.kill());\r\n            // destroy ScrollMagic controller\r\n            this.scroller.destroy();\r\n\r\n        },\r\n        methods: {\r\n            setupScenes() {\r\n                /**\r\n                 * @desc\r\n                 * Where the magic happens\r\n                 *\r\n                 * add tweeners to the scenes,\r\n                 * then to the ScrollMagic controller,\r\n                 * and then the tweeners will tween the time lines.\r\n                 *\r\n                 * This way I can synchronize scenes to the HTML content\r\n                 * and keep the momentum effect on all browsers\r\n                 */\r\n                const scenesElements = document.querySelectorAll(\".scene\");\r\n                for (let [i, scenesElement] of Array.from(scenesElements).entries()) {\r\n                    // tweeners, to animate the time lines' progress, to add momentum\r\n                    this.tweeners[i] = new TimelineMax();\r\n                    // time lines\r\n                    this.timeLines[i] = new TimelineMax({paused: true});\r\n                    // create scenes on ScrollMagic\r\n                    this.scenes[i] = new ScrollMagic.Scene({\r\n                        // trigger on the scene element\r\n                        triggerElement: scenesElement,\r\n                        // start half screen before\r\n                        offset: -this.viewport.h / 2,\r\n                        // lasts for the scene element height\r\n                        duration: scenesElement.offsetHeight\r\n                    })\r\n                        .setTween(this.tweeners[i])\r\n                        .addTo(this.scroller)\r\n                        .reverse(true)\r\n                        .setClassToggle(scenesElement, \"active\");\r\n                    // animate the progress in the time lines\r\n                    this.tweeners[i]\r\n                        .to(scenesElement, 1, {autoAlpha: 1}) // fake, just to have some progress\r\n                        .eventCallback('onUpdate', event => {\r\n                            TweenLite.to(this.timeLines[i], .5, {\r\n                                progress: this.tweeners[i].progress(),\r\n                                ease: Power0.easeNone\r\n                            });\r\n                        });\r\n                }\r\n            },\r\n            playIntro() {\r\n                /**\r\n                 * @desc\r\n                 * intro scene\r\n                 */\r\n                this.intro\r\n                    .addLabel('enter', 1)\r\n                    .from('#intro .title', 2, {\r\n                        autoAlpha: 0,\r\n                        rotationX: 90,\r\n                        transformOrigin: '50% 50% -100px',\r\n                        ease: Power3.easeOut,\r\n                    }, 'enter')\r\n                    .from('#intro .std', 2, {\r\n                        autoAlpha: 0,\r\n                        x: -32,\r\n                        ease: Power3.easeOut,\r\n                    }, 'enter+=1.5');\r\n            },\r\n            hookLoops() {\r\n                /**\r\n                 * @desc\r\n                 * play and stop loop animations\r\n                 * based on the scenes been played\r\n                 */\r\n                this.scenes[0]\r\n                    .on('enter', (e) => {\r\n                        if (e.scrollDirection === 'FORWARD') {\r\n                        }\r\n                        if (e.scrollDirection === 'REVERSE') {\r\n                            BizBiz.stop();\r\n                            BizShapes.stop();\r\n                        }\r\n                    });\r\n                this.scenes[1]\r\n                    .on('enter', (e) => {\r\n                        if (e.scrollDirection === 'FORWARD') {\r\n                            BizBiz.play();\r\n                            BizShapes.play();\r\n                        }\r\n                        if (e.scrollDirection === 'REVERSE') {\r\n                            BizZen.stop();\r\n                        }\r\n                    });\r\n                this.scenes[2]\r\n                    .on('enter', (e) => {\r\n                        if (e.scrollDirection === 'FORWARD') {\r\n                            BizZen.play();\r\n                        }\r\n                        if (e.scrollDirection === 'REVERSE') {\r\n                            BizBiz.play();\r\n                            BizShapes.play();\r\n\r\n                            BizFilomena.stop();\r\n                            BizDino.stop();\r\n                            BizET.stop();\r\n                            BizOcto.stop();\r\n                            BizAstro.stop();\r\n                            BizCoffee.stop();\r\n                        }\r\n                    });\r\n                this.scenes[3]\r\n                    .on('enter', (e) => {\r\n                        if (e.scrollDirection === 'FORWARD') {\r\n                            BizBiz.stop();\r\n                            BizShapes.stop();\r\n\r\n                            BizFilomena.play();\r\n                            BizDino.play();\r\n                            BizET.play();\r\n                            BizOcto.play();\r\n                            BizAstro.play();\r\n                            BizCoffee.play();\r\n                        }\r\n                        if (e.scrollDirection === 'REVERSE') {\r\n                            BizZen.play();\r\n                        }\r\n                    });\r\n                this.scenes[4]\r\n                    .on('enter', (e) => {\r\n                        if (e.scrollDirection === 'FORWARD') {\r\n                            BizZen.stop();\r\n                        }\r\n                        if (e.scrollDirection === 'REVERSE') {\r\n                            BizFilomena.play();\r\n                            BizDino.play();\r\n                            BizET.play();\r\n                            BizOcto.play();\r\n                        }\r\n                    });\r\n                this.scenes[5]\r\n                    .on('enter', (e) => {\r\n                        if (e.scrollDirection === 'FORWARD') {\r\n                            BizFilomena.stop();\r\n                            BizDino.stop();\r\n                            BizET.stop();\r\n                            BizOcto.stop();\r\n                        }\r\n                        if (e.scrollDirection === 'REVERSE') {\r\n                            BizAstro.play();\r\n                            BizCoffee.play();\r\n\r\n                            Pepe.stop();\r\n                        }\r\n                    });\r\n                this.scenes[6]\r\n                    .on('enter', (e) => {\r\n                        if (e.scrollDirection === 'FORWARD') {\r\n                            BizAstro.stop();\r\n                            BizCoffee.stop();\r\n\r\n                            Pepe.play();\r\n                        }\r\n                        if (e.scrollDirection === 'REVERSE') {\r\n                        }\r\n                    });\r\n                // 7\r\n                // 8\r\n                this.scenes[9]\r\n                    .on('enter', (e) => {\r\n                        if (e.scrollDirection === 'FORWARD') {\r\n                        }\r\n                        if (e.scrollDirection === 'REVERSE') {\r\n                            Pepe.play();\r\n                            // release mario body lock and remove bg\r\n                            document.body.classList.remove('-mario-lock', '-mario-bg');\r\n                        }\r\n                    });\r\n                this.scenes[10] /** @Mario **/\r\n                    .on('enter', (e) => {\r\n                        if (e.scrollDirection === 'FORWARD') {\r\n                            Pepe.stop();\r\n                            // mario bg is added inside mario.js\r\n                        }\r\n                        if (e.scrollDirection === 'REVERSE') {\r\n                            // add bg just in case\r\n                            document.body.classList.add('-mario-bg');\r\n                        }\r\n                    })\r\n                    .on('leave', (e) => {\r\n                        if (e.scrollDirection === 'FORWARD') {\r\n                        }\r\n                        if (e.scrollDirection === 'REVERSE') {\r\n                            Castle.stop();\r\n                        }\r\n                    });\r\n                this.scenes[11]\r\n                    .on('enter', (e) => {\r\n                        if (e.scrollDirection === 'FORWARD') {\r\n                            Castle.play();\r\n                            // release mario body lock\r\n                            document.body.classList.remove('-mario-lock');\r\n                        }\r\n                        if (e.scrollDirection === 'REVERSE') {\r\n                        }\r\n\r\n                        // add bg just in case in both directions\r\n                        document.body.classList.add('-mario-bg');\r\n                    });\r\n                this.scenes[12]\r\n                    .on('enter', (e) => {\r\n                        // add bg just in case in both directions\r\n                        document.body.classList.add('-mario-bg');\r\n                    });\r\n                this.scenes[13]\r\n                    .on('enter', (e) => {\r\n                        // add bg just in case in both directions\r\n                        document.body.classList.add('-mario-bg');\r\n                    });\r\n                this.scenes[14]\r\n                    .on('enter', (e) => {\r\n                        // add bg just in case in both directions\r\n                        document.body.classList.add('-mario-bg');\r\n                    });\r\n                this.scenes[15]\r\n                    .on('enter', (e) => {\r\n                        if (e.scrollDirection === 'FORWARD') {\r\n                            // remove bg\r\n                            document.body.classList.remove('-mario-bg');\r\n                        }\r\n                        if (e.scrollDirection === 'REVERSE') {\r\n                            Castle.play();\r\n\r\n                            Potion.stop();\r\n                        }\r\n                    })\r\n                    .on('leave', (e) => {\r\n                        if (e.scrollDirection === 'FORWARD') {\r\n                        }\r\n                        if (e.scrollDirection === 'REVERSE') {\r\n                            // add bg\r\n                            document.body.classList.add('-mario-bg');\r\n                        }\r\n                    });\r\n                ;\r\n                this.scenes[16]\r\n                    .on('enter', (e) => {\r\n                        if (e.scrollDirection === 'FORWARD') {\r\n                            Castle.stop();\r\n\r\n                            Potion.play();\r\n                        }\r\n                        if (e.scrollDirection === 'REVERSE') {\r\n                        }\r\n                    });\r\n            },\r\n            buildLoops() {\r\n                /**\r\n                 * @desc\r\n                 * mount loop animations\r\n                 */\r\n                BizBiz.build();\r\n                BizAstro.build();\r\n                BizCoffee.build();\r\n                BizDino.build();\r\n                Castle.build();\r\n                Potion.build();\r\n                BizShapes.build();\r\n                if (this.viewport.is568) {\r\n                    Castle.build568();\r\n                } else {\r\n                    Castle.build();\r\n                }\r\n                if (this.viewport.is568) {\r\n                    Pepe.build568();\r\n                } else if (this.viewport.is1024) {\r\n                    Pepe.build1024();\r\n                } else {\r\n                    Pepe.build();\r\n                }\r\n                if (!this.viewport.is1024) {\r\n                    BizFilomena.build();\r\n                    BizOcto.build();\r\n                }\r\n                if (!this.viewport.is768) BizET.build();\r\n                if (!this.viewport.is568) BizZen.build();\r\n            },\r\n            sceneCurriculumVitae(){\r\n                /**\r\n                 * @desc\r\n                 * Scrolling animations time lines\r\n                 */\r\n                // CurriculumVitae()\r\n                this.timeLines[0]\r\n                    .set('#curriculum .title-container', {autoAlpha: 1}) // show animations\r\n                    .addLabel('start', 0)\r\n                    .from('#curriculum .title', 2, {\r\n                        yPercent: -50,\r\n                        autoAlpha: 0,\r\n                        rotationX: 90,\r\n                        transformOrigin: '50% 50% -100px',\r\n                        ease: Power3.easeOut,\r\n                    }, 'start')\r\n                    .from('#curriculum .std', 2, {\r\n                        yPercent: 50,\r\n                        autoAlpha: 0,\r\n                        rotationX: -90,\r\n                        transformOrigin: '50% 50% -100px',\r\n                        ease: Power3.easeOut,\r\n                    }, 'start')\r\n                    .to('#curriculum .title, #curriculum .std', 2, {\r\n                        autoAlpha: 0,\r\n                        yPercent: -100\r\n                    });\r\n            },\r\n            sceneBizTitle(){\r\n                // biz()\r\n                this.timeLines[1]\r\n                // next scene characters\r\n                    .set('#filomena', {\r\n                        autoAlpha: 0,\r\n                        scale: 0,\r\n                        xPercent: 600,\r\n                        yPercent: 100,\r\n                    })\r\n                    .set('#dino', {\r\n                        scale: 0,\r\n                        xPercent: 400,\r\n                        yPercent: 100,\r\n                    })\r\n                    .set('#astro, #coffee, #et, #octo', {\r\n                        autoAlpha: 0,\r\n                        scale: 0,\r\n                        xPercent: 400,\r\n                        yPercent: 100,\r\n                    })\r\n                    // this scene\r\n                    .set('#bizTitle .title-container, #biz1 .container', {autoAlpha: 1})\r\n                    .addLabel('start', 0)\r\n                    .from('#bizTitle .title', 6, {\r\n                        yPercent: -50,\r\n                        autoAlpha: 0,\r\n                        rotationX: 90,\r\n                        transformOrigin: '50% 50% -100px',\r\n                        ease: Power3.easeOut,\r\n                    }, 'start')\r\n                    .to('#bizTitle .title', 6, {\r\n                        autoAlpha: 0,\r\n                        yPercent: -100,\r\n                    })\r\n                    .staggerFrom('#smart, #open', 6, {\r\n                        autoAlpha: 0,\r\n                        scale: 0,\r\n                        ease: Power3.easeOut,\r\n                    }, .2, 'start+=2')\r\n                    .from('#abiz', 6, {\r\n                        scale: 0,\r\n                    }, 'start+=2');\r\n            },\r\n            sceneBizZen(){\r\n                // Biz Commerce 1\r\n                this.timeLines[2]\r\n                    .addLabel('start', 0)\r\n                    .from('#zen', 4, {\r\n                        xPercent: 70,\r\n                        ease: Power3.easeOut,\r\n                    }, 'start')\r\n                    .to('#abiz', 4, {\r\n                        autoAlpha: 0,\r\n                        xPercent: -100,\r\n                        ease: Power3.easeIn,\r\n                    }, 'start')\r\n                    .staggerTo('#smart, #open', 4, {\r\n                        autoAlpha: 0,\r\n                        scale: 0,\r\n                        ease: Power3.easeOut,\r\n                    }, .2, 'start');\r\n            },\r\n            sceneBizEverybody(){\r\n                // Biz Commerce 2\r\n                this.timeLines[3]\r\n                    .addLabel('start', 0)\r\n                    .to('#zen', 4, {\r\n                        yPercent: 130,\r\n                        ease: Power3.easeIn,\r\n                    }, 'start')\r\n                    .staggerTo('#dino, #astro, #coffee, #et, #filomena, #octo', 5, {\r\n                        autoAlpha: 1,\r\n                        scale: 1,\r\n                        xPercent: 0,\r\n                        yPercent: 0,\r\n                        ease: Power3.easeOut\r\n                    }, .2, 'start');\r\n            },\r\n            sceneBizEnding(){\r\n                // Biz Commerce 3\r\n                this.timeLines[4]\r\n                    .addLabel('start', 0)\r\n                    .to('#dino', 6, {\r\n                        yPercent: 200,\r\n                        scale: 1.5,\r\n                        ease: Power3.easeIn,\r\n                    }, 'start')\r\n                    .to('#et', 6, {\r\n                        xPercent: -250,\r\n                        yPercent: -100,\r\n                        autoAlpha: 0,\r\n                        ease: Power3.easeIn,\r\n                    }, 'start')\r\n                    .to('#filomena', 6, {\r\n                        xPercent: -300,\r\n                        yPercent: 300,\r\n                        autoAlpha: 0,\r\n                        ease: Power3.easeIn,\r\n                    }, 'start')\r\n                    .to('#octo', 6, {\r\n                        xPercent: -650,\r\n                        yPercent: 400,\r\n                        autoAlpha: 0,\r\n                        ease: Power3.easeIn,\r\n                    }, 'start')\r\n                    .to('#astro', 12, {\r\n                        bottom: '-10vh',\r\n                        right: '-10vw',\r\n                        scale: 4,\r\n                        ease: Power3.easeInOut,\r\n                    }, 'start')\r\n                    .to('#coffee', 12, {\r\n                        top: '8rem',\r\n                        left: 0,\r\n                        scale: 4,\r\n                        ease: Power3.easeInOut,\r\n                    }, 'start');\r\n            },\r\n            sceneEarlyDays(){\r\n                // Clouds parallax\r\n                let cloudsTimeline = new TimelineMax({paused: true}),\r\n                    cloudsTweener = new TimelineMax();\r\n                cloudsTweener\r\n                    .to('.cloud-1', 20, {rotation: 0})\r\n                    .eventCallback('onUpdate', () => {\r\n                        TweenLite.to(cloudsTimeline, 4, {\r\n                            progress: cloudsTweener.progress(),\r\n                            ease: Power3.easeOut\r\n                        });\r\n                    });\r\n\r\n                cloudsTimeline\r\n                    .addLabel('start', 0)\r\n                    .fromTo('.cloud-1', 10, {\r\n                        yPercent: 50,\r\n                        xPercent: 20,\r\n                    }, {\r\n                        yPercent: -85,\r\n                        xPercent: -20,\r\n                    }, 'action')\r\n                    .fromTo('.cloud-2', 10, {\r\n                        yPercent: 40,\r\n                        xPercent: -10,\r\n                    }, {\r\n                        yPercent: -40,\r\n                        xPercent: 85,\r\n                    }, 'action')\r\n                    .fromTo('.cloud-3', 10, {\r\n                        yPercent: 70,\r\n                        xPercent: 40,\r\n                    }, {\r\n                        yPercent: -85,\r\n                        xPercent: -40,\r\n                    }, 'action');\r\n\r\n                new ScrollMagic.Scene({\r\n                    triggerElement: '#earlyTitle',\r\n                    offset: -this.viewport.h / 2,\r\n                    duration: this.viewport.h * 3.5\r\n                })\r\n                    .setTween(cloudsTweener)\r\n                    .addTo(this.scroller);\r\n\r\n                // EarlyDays()\r\n                this.timeLines[5]\r\n                    .set('.pepe-scenery', {autoAlpha: 0})\r\n                    .set('#biz1 .container', {autoAlpha: 1})\r\n                    .addLabel('start', 0)\r\n                    .to('#astro', 4, {\r\n                        yPercent: 600,\r\n                        xPercent: 200,\r\n                        ease: Power2.easeIn,\r\n                    }, 'start')\r\n                    .to('#coffee', 4, {\r\n                        yPercent: -600,\r\n                        xPercent: -200,\r\n                        ease: Power2.easeIn,\r\n                    }, 'start')\r\n                    .to('#earlyTitle .title-container', 2, {autoAlpha: 1}, 'start')\r\n                    .from('#earlyTitle .title', 4, {\r\n                        yPercent: -50,\r\n                        autoAlpha: 0,\r\n                        rotationX: 90,\r\n                        transformOrigin: '50% 50% -100px',\r\n                        ease: Power3.easeOut,\r\n                    }, 'start')\r\n                    .from('#earlyTitle .std', 4, {\r\n                        yPercent: 50,\r\n                        autoAlpha: 0,\r\n                        rotationX: -90,\r\n                        transformOrigin: '50% 50% 100px',\r\n                        ease: Power3.easeOut,\r\n                    }, 'start')\r\n                    .to('#earlyTitle .title, #earlyTitle .std', 4, {\r\n                        autoAlpha: 0,\r\n                        yPercent: -100,\r\n                    });\r\n            },\r\n            sceneOcean(){\r\n                // Pepe parallax\r\n                let pepeTimeline = new TimelineMax({paused: true}),\r\n                    pepeTweener = new TimelineMax(),\r\n                    pepeLength = window.innerWidth + document.querySelector('.pepe').offsetWidth + 16;\r\n\r\n                pepeTweener\r\n                    .to('.pepe', 20, {rotation: 0})\r\n                    .eventCallback('onUpdate', () => {\r\n                        TweenLite.to(pepeTimeline, 4, {\r\n                            progress: pepeTweener.progress(),\r\n                            ease: Power3.easeOut\r\n                        });\r\n                    });\r\n\r\n                pepeTimeline\r\n                    .addLabel('start')\r\n                    .to('.pepe', 10, {\r\n                        x: `-${pepeLength}px`,\r\n                        scale: .5\r\n                    }, 'start');\r\n\r\n                new ScrollMagic.Scene({\r\n                    triggerElement: '#early-days2',\r\n                    offset: -this.viewport.h / 2,\r\n                    duration: this.viewport.h * 4\r\n                })\r\n                    .setTween(pepeTweener)\r\n                    .addTo(this.scroller);\r\n\r\n                // foothold on arts\r\n                this.timeLines[6]\r\n                    .set('#biz1 .container', {autoAlpha: 0})\r\n                    .to('.pepe-scenery', 8, {autoAlpha: 1});\r\n            },\r\n            sceneFloatingHead(){\r\n                // first company\r\n                this.timeLines[7]\r\n                    .addLabel('start', 0);\r\n            },\r\n            sceneSunset(){\r\n                // porta, kibe etc.\r\n                this.timeLines[8]\r\n                    .set('#Mario .container', {autoAlpha: 0})\r\n                    .to('.pepe-scenery', 8, {autoAlpha: 0});\r\n            },\r\n            sceneArtPhiGames(){\r\n                this.timeLines[9]\r\n                    .set('#Mario .container', {autoAlpha: 0})\r\n                    .addLabel('start', 1)\r\n                    .to('#ArtPhiGamesTitle .title-container', 1, {autoAlpha: 1})\r\n                    .staggerFrom('#ArtPhiGamesTitle .title .line', 4, {\r\n                        yPercent: -50,\r\n                        autoAlpha: 0,\r\n                        rotationX: 90,\r\n                        transformOrigin: '50% 50% -100px',\r\n                        ease: Power3.easeOut,\r\n                        stagger: .5\r\n                    })\r\n                    .from('#ArtPhiGamesTitle .std', 4, {\r\n                        yPercent: 50,\r\n                        autoAlpha: 0,\r\n                        rotationX: -90,\r\n                        transformOrigin: '50% 50% 100px',\r\n                        ease: Power3.easeOut,\r\n                    }, '-=1')\r\n                    .to('#ArtPhiGamesTitle .title, #ArtPhiGamesTitle .std', 3, {\r\n                        yPercent: -100,\r\n                        autoAlpha: 0,\r\n                    })\r\n                    .set('#earlyTitle .title-container', {autoAlpha: 1});\r\n            },\r\n            sceneMario(){\r\n                // Mario\r\n                // using the tweener here\r\n                // because I need to be precise about time, and the momentum would ruin it\r\n                this.tweeners[10]\r\n                    .to('#earlyTitle .title-container', .5, {autoAlpha: 0}) // fix reverse scroll and help time the mario trigger\r\n                    .to('#Mario .container', 1, {\r\n                        autoAlpha: 1,\r\n                        zIndex: 4,\r\n                        onComplete: () => Mario.action(),\r\n                    });\r\n                this.timeLines[10].set('.mario', {yPercent: 200, autoAlpha: 0});\r\n            },\r\n            sceneGhibli(){\r\n                // Ghibli Grass parallax\r\n                let grassTimeline = new TimelineMax({paused: true}),\r\n                    grassTweener = new TimelineMax();\r\n\r\n                grassTweener\r\n                    .to('.pepe', 20, {rotation: 0})\r\n                    .eventCallback('onUpdate', () => {\r\n                        TweenLite.to(grassTimeline, 2, {\r\n                            progress: grassTweener.progress(),\r\n                            ease: Power3.easeOut\r\n                        });\r\n                    });\r\n\r\n                grassTimeline\r\n                    .addLabel('start', 0)\r\n                    .to('#Ghibli .grass1', 20, {\r\n                        yPercent: 10,\r\n                        xPercent: -100,\r\n                        ease: Power1.easeIn,\r\n                    }, 'start')\r\n                    .to('#Ghibli .grass2', 20, {\r\n                        yPercent: 10,\r\n                        xPercent: 100,\r\n                        ease: Power1.easeIn,\r\n                    }, 'start')\r\n                    .addLabel('start');\r\n\r\n                new ScrollMagic.Scene({\r\n                    triggerElement: '#Ghibli',\r\n                    offset: -this.viewport.h / 2,\r\n                    duration: this.viewport.h * 4\r\n                })\r\n                    .setTween(grassTweener)\r\n                    .addTo(this.scroller);\r\n\r\n                // Ghibli Clouds parallax\r\n                let gCloudsTimeline = new TimelineMax({paused: true}),\r\n                    gCloudsTweener = new TimelineMax();\r\n\r\n                gCloudsTweener\r\n                    .to('.pepe', 20, {rotation: 0})\r\n                    .eventCallback('onUpdate', () => {\r\n                        TweenLite.to(gCloudsTimeline, 6, {\r\n                            progress: gCloudsTweener.progress(),\r\n                            ease: Power3.easeOut\r\n                        });\r\n                    });\r\n\r\n                gCloudsTimeline\r\n                    .addLabel('start', 0)\r\n                    .set('#Ghibli .sky .c1, #Ghibli .sky .c2', {yPercent: 50})\r\n                    .to('#Ghibli .sky .c1', 20, {\r\n                        yPercent: 10,\r\n                        xPercent: -50,\r\n                        scale: 1.5,\r\n                        ease: Power1.easeIn,\r\n                    }, 'start')\r\n                    .to('#Ghibli .sky .c2', 20, {\r\n                        yPercent: 0,\r\n                        // xPercent: 50,\r\n                        scale: 1.5,\r\n                        ease: Power1.easeIn,\r\n                    }, 'start');\r\n\r\n                new ScrollMagic.Scene({\r\n                    triggerElement: '#Ghibli',\r\n                    offset: -this.viewport.h / 2,\r\n                    duration: this.viewport.h * 4\r\n                })\r\n                    .setTween(gCloudsTweener)\r\n                    .addTo(this.scroller);\r\n\r\n                // Howl's Moving Castle parallax\r\n                let castleTimeline = new TimelineMax({paused: true}),\r\n                    castleTweener = new TimelineMax(),\r\n                    castleLength = '-120vw';\r\n\r\n                if (this.viewport.is568) castleLength = '-' + (window.innerWidth + document.querySelector('.castle-container').offsetWidth + 16) + 'px';\r\n\r\n                castleTweener\r\n                    .to('.pepe', 20, {rotation: 0})\r\n                    .eventCallback('onUpdate', () => {\r\n                        TweenLite.to(castleTimeline, 3, {\r\n                            progress: castleTweener.progress(),\r\n                            ease: Power3.easeOut\r\n                        });\r\n                    });\r\n\r\n                castleTimeline\r\n                    .to('.castle-container', 10, {\r\n                        x: castleLength,\r\n                        y: '-70vh',\r\n                        scale: .5,\r\n                    });\r\n\r\n                new ScrollMagic.Scene({\r\n                    triggerElement: '#Ghibli',\r\n                    duration: this.viewport.h * 5\r\n                })\r\n                    .setTween(castleTweener)\r\n                    .addTo(this.scroller);\r\n\r\n                // Ghibli 1\r\n                this.timeLines[11]\r\n                    .addLabel('start', 0)\r\n                    .to('#Mario .container', 4, {autoAlpha: 0}, 'start')\r\n                    .to('#Ghibli .container', 4, {autoAlpha: 1}, 'start');\r\n\r\n                // Ghibli 2 (gap)\r\n                this.timeLines[12]\r\n                    .addLabel('start', 0);\r\n\r\n                // Ghibli 3 (gap)\r\n                this.timeLines[13]\r\n                    .addLabel('start', 0);\r\n\r\n                // Ghibli 4 (gap)\r\n                this.timeLines[14]\r\n                    .addLabel('start', 0);\r\n            },\r\n            sceneWrapper(){\r\n                this.timeLines[15]\r\n                    .addLabel('start', 0)\r\n                    .to('#Ghibli .container', 2, {autoAlpha: 0}, 'start')\r\n                    .from('#wrapperTitle .static-container', 2, {autoAlpha: 1});\r\n            },\r\n        },\r\n        components: {\r\n            Intro,\r\n            Titles,\r\n            Biz,\r\n            EarlyDays,\r\n            SuperMario,\r\n            Ghibli,\r\n            Wrapper,\r\n            Thanks,\r\n        }\r\n    };\r\n</script>\r\n"]}]}